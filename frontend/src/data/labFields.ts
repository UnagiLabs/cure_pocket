/**
 * 検査値フィールドのデータ定義
 *
 * 検査項目の閾値データとグループ定義を管理するデータファイル。
 * ロジックとデータを分離し、メンテナンス性を向上させる。
 *
 * @module labFields
 */

import type { LabFieldDefinition, LabGroupId } from "@/lib/labResultsConverter";

/**
 * 検査項目定義（LOINCコード付き）
 *
 * 各検査項目のID、ラベル、単位、基準値範囲、LOINCコードなどを定義。
 * 性別に応じた基準値が異なる項目は refRanges プロパティで定義。
 * 5言語（英語、日本語、中国語、フランス語、ポルトガル語）の翻訳を含む。
 */
export const LAB_FIELDS: LabFieldDefinition[] = [
	// CBC（血算）- hematology
	{
		id: "wbc",
		group: "cbc",
		labelEn: "WBC (White blood cells)",
		labelJa: "WBC（白血球数）",
		labelZh: "WBC（白细胞）",
		labelFr: "GB (Globules blancs)",
		labelPt: "GB (Glóbulos brancos)",
		unit: "/µL",
		loincCode: "26464-8",
		category: "hematology",
		refRanges: { default: { low: 4000, high: 10000 } },
	},
	{
		id: "rbc",
		group: "cbc",
		labelEn: "RBC (Red blood cells)",
		labelJa: "RBC（赤血球数）",
		labelZh: "RBC（红细胞）",
		labelFr: "GR (Globules rouges)",
		labelPt: "GR (Glóbulos vermelhos)",
		unit: "×10⁶/µL",
		loincCode: "26453-1",
		category: "hematology",
		refRanges: { default: { low: 4.0, high: 5.5 } },
	},
	{
		id: "hb",
		group: "cbc",
		labelEn: "Hb (Hemoglobin)",
		labelJa: "Hb（ヘモグロビン）",
		labelZh: "Hb（血红蛋白）",
		labelFr: "Hb (Hémoglobine)",
		labelPt: "Hb (Hemoglobina)",
		unit: "g/dL",
		loincCode: "718-7",
		category: "hematology",
		refRanges: {
			default: { low: 12.0, high: 17.0 },
			male: { low: 13.0, high: 17.0 },
			female: { low: 12.0, high: 15.5 },
		},
	},
	{
		id: "hct",
		group: "cbc",
		labelEn: "Hct (Hematocrit)",
		labelJa: "Hct（ヘマトクリット）",
		labelZh: "Hct（血细胞比容）",
		labelFr: "Ht (Hématocrite)",
		labelPt: "Ht (Hematócrito)",
		unit: "%",
		loincCode: "4544-3",
		category: "hematology",
		refRanges: {
			default: { low: 36, high: 50 },
			male: { low: 40, high: 50 },
			female: { low: 36, high: 45 },
		},
	},
	{
		id: "plt",
		group: "cbc",
		labelEn: "PLT (Platelets)",
		labelJa: "PLT（血小板数）",
		labelZh: "PLT（血小板）",
		labelFr: "PLT (Plaquettes)",
		labelPt: "PLT (Plaquetas)",
		unit: "×10³/µL",
		loincCode: "26515-7",
		category: "hematology",
		refRanges: { default: { low: 150, high: 400 } },
	},

	// 電解質・腎機能 - biochemistry
	{
		id: "na",
		group: "electrolyteRenal",
		labelEn: "Na (Sodium)",
		labelJa: "Na（ナトリウム）",
		labelZh: "Na（钠）",
		labelFr: "Na (Sodium)",
		labelPt: "Na (Sódio)",
		unit: "mEq/L",
		loincCode: "2951-2",
		category: "biochemistry",
		refRanges: { default: { low: 135, high: 145 } },
	},
	{
		id: "k",
		group: "electrolyteRenal",
		labelEn: "K (Potassium)",
		labelJa: "K（カリウム）",
		labelZh: "K（钾）",
		labelFr: "K (Potassium)",
		labelPt: "K (Potássio)",
		unit: "mEq/L",
		loincCode: "2823-3",
		category: "biochemistry",
		refRanges: { default: { low: 3.5, high: 5.0 } },
	},
	{
		id: "cl",
		group: "electrolyteRenal",
		labelEn: "Cl (Chloride)",
		labelJa: "Cl（クロール）",
		labelZh: "Cl（氯）",
		labelFr: "Cl (Chlore)",
		labelPt: "Cl (Cloreto)",
		unit: "mEq/L",
		loincCode: "2075-0",
		category: "biochemistry",
		refRanges: { default: { low: 96, high: 106 } },
	},
	{
		id: "bun",
		group: "electrolyteRenal",
		labelEn: "BUN (Blood Urea Nitrogen)",
		labelJa: "BUN（尿素窒素）",
		labelZh: "BUN（血尿素氮）",
		labelFr: "Urée",
		labelPt: "BUN (Nitrogênio ureico no sangue)",
		unit: "mg/dL",
		loincCode: "3094-0",
		category: "biochemistry",
		refRanges: { default: { low: 8, high: 20 } },
	},
	{
		id: "cre",
		group: "electrolyteRenal",
		labelEn: "Cre (Creatinine)",
		labelJa: "Cre（クレアチニン）",
		labelZh: "Cre（肌酐）",
		labelFr: "Créatinine",
		labelPt: "Cre (Creatinina)",
		unit: "mg/dL",
		loincCode: "2160-0",
		category: "biochemistry",
		refRanges: {
			default: { low: 0.6, high: 1.2 },
			male: { low: 0.7, high: 1.3 },
			female: { low: 0.6, high: 1.1 },
		},
	},
	{
		id: "egfr",
		group: "electrolyteRenal",
		labelEn: "eGFR",
		labelJa: "eGFR（推算糸球体濾過量）",
		labelZh: "eGFR（估算肾小球滤过率）",
		labelFr: "DFGe (Débit de filtration glomérulaire estimé)",
		labelPt: "TFGe (Taxa de filtração glomerular estimada)",
		unit: "mL/min/1.73m²",
		loincCode: "33914-3",
		category: "biochemistry",
		refRanges: { default: { low: 60 } },
	},

	// 肝機能 - biochemistry
	{
		id: "ast",
		group: "liver",
		labelEn: "AST (GOT)",
		labelJa: "AST（GOT）",
		labelZh: "AST（天冬氨酸转氨酶）",
		labelFr: "ASAT (TGO)",
		labelPt: "AST (TGO)",
		unit: "U/L",
		loincCode: "1920-8",
		category: "biochemistry",
		refRanges: { default: { low: 10, high: 40 } },
	},
	{
		id: "alt",
		group: "liver",
		labelEn: "ALT (GPT)",
		labelJa: "ALT（GPT）",
		labelZh: "ALT（丙氨酸转氨酶）",
		labelFr: "ALAT (TGP)",
		labelPt: "ALT (TGP)",
		unit: "U/L",
		loincCode: "1742-6",
		category: "biochemistry",
		refRanges: { default: { low: 5, high: 40 } },
	},
	{
		id: "alp",
		group: "liver",
		labelEn: "ALP",
		labelJa: "ALP（アルカリフォスファターゼ）",
		labelZh: "ALP（碱性磷酸酶）",
		labelFr: "PAL (Phosphatase alcaline)",
		labelPt: "FA (Fosfatase alcalina)",
		unit: "U/L",
		loincCode: "6768-6",
		category: "biochemistry",
		refRanges: { default: { low: 30, high: 130 } },
	},
	{
		id: "ggt",
		group: "liver",
		labelEn: "γ-GTP",
		labelJa: "γ-GTP",
		labelZh: "γ-GTP（γ-谷氨酰转肽酶）",
		labelFr: "γ-GT",
		labelPt: "γ-GT",
		unit: "U/L",
		loincCode: "2324-2",
		category: "biochemistry",
		refRanges: {
			default: { high: 80 },
			male: { high: 80 },
			female: { high: 30 },
		},
	},
	{
		id: "tbil",
		group: "liver",
		labelEn: "T-Bil (Total Bilirubin)",
		labelJa: "T-Bil（総ビリルビン）",
		labelZh: "T-Bil（总胆红素）",
		labelFr: "Bilirubine totale",
		labelPt: "Bilirrubina total",
		unit: "mg/dL",
		loincCode: "1975-2",
		category: "biochemistry",
		refRanges: { default: { low: 0.2, high: 1.2 } },
	},
	{
		id: "alb",
		group: "liver",
		labelEn: "Alb (Albumin)",
		labelJa: "Alb（アルブミン）",
		labelZh: "Alb（白蛋白）",
		labelFr: "Albumine",
		labelPt: "Albumina",
		unit: "g/dL",
		loincCode: "1751-7",
		category: "biochemistry",
		refRanges: { default: { low: 3.5, high: 5.0 } },
	},

	// 脂質 - biochemistry
	{
		id: "ldl",
		group: "lipid",
		labelEn: "LDL-C (LDL Cholesterol)",
		labelJa: "LDL-C（LDLコレステロール）",
		labelZh: "LDL-C（低密度脂蛋白胆固醇）",
		labelFr: "LDL-C (Cholestérol LDL)",
		labelPt: "LDL-C (Colesterol LDL)",
		unit: "mg/dL",
		loincCode: "13457-7",
		category: "biochemistry",
		refRanges: { default: { high: 140 } },
	},
	{
		id: "hdl",
		group: "lipid",
		labelEn: "HDL-C (HDL Cholesterol)",
		labelJa: "HDL-C（HDLコレステロール）",
		labelZh: "HDL-C（高密度脂蛋白胆固醇）",
		labelFr: "HDL-C (Cholestérol HDL)",
		labelPt: "HDL-C (Colesterol HDL)",
		unit: "mg/dL",
		loincCode: "2085-9",
		category: "biochemistry",
		refRanges: { default: { low: 40 } },
	},
	{
		id: "tg",
		group: "lipid",
		labelEn: "TG (Triglycerides)",
		labelJa: "TG（中性脂肪）",
		labelZh: "TG（甘油三酯）",
		labelFr: "TG (Triglycérides)",
		labelPt: "TG (Triglicerídeos)",
		unit: "mg/dL",
		loincCode: "2571-8",
		category: "biochemistry",
		refRanges: { default: { high: 150 } },
	},

	// 血糖 - biochemistry
	{
		id: "glu_f",
		group: "glucose",
		labelEn: "FBS (Fasting Blood Sugar)",
		labelJa: "空腹時血糖",
		labelZh: "空腹血糖",
		labelFr: "Glycémie à jeun",
		labelPt: "Glicemia de jejum",
		unit: "mg/dL",
		loincCode: "1558-6",
		category: "biochemistry",
		refRanges: { default: { low: 70, high: 109 } },
	},
	{
		id: "hba1c",
		group: "glucose",
		labelEn: "HbA1c",
		labelJa: "HbA1c",
		labelZh: "HbA1c（糖化血红蛋白）",
		labelFr: "HbA1c",
		labelPt: "HbA1c",
		unit: "%",
		loincCode: "4548-4",
		category: "biochemistry",
		refRanges: { default: { low: 4.6, high: 6.2 } },
	},

	// その他 - immunology / biochemistry
	{
		id: "crp",
		group: "optional",
		labelEn: "CRP (C-Reactive Protein)",
		labelJa: "CRP（C反応性タンパク）",
		labelZh: "CRP（C反应蛋白）",
		labelFr: "CRP (Protéine C-réactive)",
		labelPt: "PCR (Proteína C reativa)",
		unit: "mg/dL",
		loincCode: "1988-5",
		category: "immunology",
		refRanges: { default: { high: 0.3 } },
	},
	{
		id: "tsh",
		group: "optional",
		labelEn: "TSH",
		labelJa: "TSH（甲状腺刺激ホルモン）",
		labelZh: "TSH（促甲状腺激素）",
		labelFr: "TSH (Hormone thyréostimulante)",
		labelPt: "TSH (Hormônio estimulante da tireoide)",
		unit: "µIU/mL",
		loincCode: "3016-3",
		category: "biochemistry",
		refRanges: { default: { low: 0.4, high: 4.0 } },
	},
];

/**
 * グループ定義
 *
 * 検査項目をグループ化するための定義。
 * UIでの表示や分類に使用される。
 */
export const LAB_GROUPS: {
	id: LabGroupId;
	labelEn: string;
	labelJa: string;
}[] = [
	{ id: "cbc", labelEn: "CBC (Blood Count)", labelJa: "血算（CBC）" },
	{
		id: "electrolyteRenal",
		labelEn: "Electrolytes & Renal",
		labelJa: "電解質・腎機能",
	},
	{ id: "liver", labelEn: "Liver Function", labelJa: "肝機能" },
	{ id: "lipid", labelEn: "Lipids", labelJa: "脂質" },
	{ id: "glucose", labelEn: "Glucose", labelJa: "血糖" },
	{ id: "optional", labelEn: "Optional", labelJa: "その他" },
];
