# ğŸ¨ Sui ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šUIå®Ÿè£…ã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åŒã˜ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šUIã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®å®Œå…¨ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## ğŸ“¢ AIã¸ã®èª¬æ˜æ–‡ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰

```markdown
# Sui ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šUIã®å®Ÿè£…ä¾é ¼

## æ¦‚è¦
Sui blockchainç”¨ã®ãƒ¢ãƒ€ãƒ³ãªã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šUIã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
@mysten/dapp-kit v0.19.7ã‚’ä½¿ç”¨ã—ã€ä»¥ä¸‹ã®ä»•æ§˜ã«å¾“ã£ã¦ãã ã•ã„ã€‚

## UI/UXä»•æ§˜

### 1. ãƒ˜ãƒƒãƒ€ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆæœªæ¥ç¶šæ™‚ï¼‰
- ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆé¢¨ã®ã€ŒConnect Walletã€ç”»åƒãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ã§æ¥ç¶šãƒ¢ãƒ¼ãƒ€ãƒ«ã¾ãŸã¯ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’è¡¨ç¤º
- ãƒ›ãƒãƒ¼æ™‚ã«è»½ãã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆscale-105ï¼‰
- imageRendering: "pixelated" ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨

### 2. ãƒ˜ãƒƒãƒ€ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆæ¥ç¶šæ¸ˆã¿æ™‚ï¼‰
- ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’çŸ­ç¸®å½¢å¼ã§è¡¨ç¤ºï¼ˆä¾‹: 0xe8d3...04efï¼‰
- é’è‰²ã®ä¸¸ã¿ã‚’å¸¯ã³ãŸãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
- ã‚¯ãƒªãƒƒã‚¯ã§ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè©³ç´°ãƒ‘ãƒãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³è¡¨ç¤º
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼šãƒ¢ãƒã‚¤ãƒ«ã¯ç”»é¢ä¸­å¤®ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¯å³ä¸Šé…ç½®

### 3. æ¥ç¶šæ¸ˆã¿ãƒ‘ãƒãƒ«ï¼ˆConnectedWalletPanelï¼‰
**æ§‹é€ **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Connected                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0xe8d3...04ef   [ğŸ“‹] [ğŸ”—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [DISCONNECT ãƒœã‚¿ãƒ³]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Wallets                      â”‚
â”‚ â— 0xe8d3...04ef (é¸æŠä¸­)    â”‚
â”‚ â—‹ 0x09fa...77c2              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½è¦ä»¶**:
- âœ… "Connected" ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
- âœ… ç¾åœ¨ã®ã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤ºï¼ˆçŸ­ç¸®å½¢å¼ï¼‰
- âœ… ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼ + æˆåŠŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼‰
- âœ… ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³ï¼ˆSui Scanã¸é·ç§»ï¼‰
- âœ… DISCONNECTãƒœã‚¿ãƒ³ï¼ˆé’è‰²ã€å…¨å¹…ï¼‰
- âœ… è¤‡æ•°ã‚¦ã‚©ãƒ¬ãƒƒãƒˆãŒã‚ã‚‹å ´åˆã®ã¿ã€ŒWalletsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
- âœ… ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¸€è¦§ã¨åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
- âœ… ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

### 4. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°è¦ä»¶
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Tailwind CSS
- **ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**:
  - Primary: blue-500, blue-600, blue-700
  - Background: gray-50, gray-100
  - Success: green-500
- **ãƒ•ã‚©ãƒ³ãƒˆ**: "Pixelify Sans" ã¾ãŸã¯é¡ä¼¼ã®ãƒ”ã‚¯ã‚»ãƒ«ãƒ•ã‚©ãƒ³ãƒˆ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**:
  - ãƒ›ãƒãƒ¼: scale-105, duration-200
  - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–: scale-95
  - ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³: transition-all
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**:
  - ãƒ¢ãƒã‚¤ãƒ«: fixed left-1/2 top-20 -translate-x-1/2
  - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: absolute right-0 top-full mt-2

### 5. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦ä»¶
- âœ… aria-labelå±æ€§ã®é©åˆ‡ãªä½¿ç”¨
- âœ… aria-expandedçŠ¶æ…‹ç®¡ç†
- âœ… role="presentation"ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯å¯¾å¿œ
- âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆEscapeã‚­ãƒ¼ã§é–‰ã˜ã‚‹ï¼‰

### 6. æŠ€è¡“è¦ä»¶
**å¿…é ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª**:
- @mysten/dapp-kit: ^0.19.7
- @mysten/sui: ^1.43.2
- @tanstack/react-query: ^5.83.0
- React: ^19.0.0
- Next.js: ^15.3.2

**å¿…é ˆãƒ•ãƒƒã‚¯**:
- useCurrentAccount()
- useCurrentWallet()
- useAccounts()
- useSwitchAccount()
- useDisconnectWallet()

**ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ§‹æˆ**:
```tsx
<SuiClientProvider>
  <QueryClientProvider>
    <WalletProvider>
      {children}
    </WalletProvider>
  </QueryClientProvider>
</SuiClientProvider>
```

## å®Ÿè£…ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **WalletButton.tsx** - ãƒ¡ã‚¤ãƒ³ã®çµ±åˆãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
2. **ConnectedWalletPanel.tsx** - æ¥ç¶šå¾Œã®è©³ç´°ãƒ‘ãƒãƒ«
3. **SuiProvider.tsx** - ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®šãƒ©ãƒƒãƒ‘ãƒ¼

## æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ

1. æœªæ¥ç¶šæ™‚: ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆç”»åƒãƒœã‚¿ãƒ³è¡¨ç¤º
2. ã‚¯ãƒªãƒƒã‚¯: @mysten/dapp-kitã®ConnectModalè¡¨ç¤º
3. æ¥ç¶šæˆåŠŸ: ãƒœã‚¿ãƒ³ãŒã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤ºã«å¤‰åŒ–
4. ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚¯ãƒªãƒƒã‚¯: ConnectedWalletPanelè¡¨ç¤º
5. ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³: ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ + ç·‘è‰²ã®æˆåŠŸè¡¨ç¤º
6. ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒœã‚¿ãƒ³: æ–°ã—ã„ã‚¿ãƒ–ã§Sui Scané–‹ã
7. DISCONNECT: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆåˆ‡æ–­ + ãƒ‘ãƒãƒ«é–‰ã˜ã‚‹
8. è¤‡æ•°ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ: åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ãªãƒªã‚¹ãƒˆè¡¨ç¤º
9. Escapeã‚­ãƒ¼: ãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹
10. å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯: ãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹

## å‡ºåŠ›å½¢å¼
å®Œå…¨ãªå®Ÿè£…å¯èƒ½ãªTypeScriptã‚³ãƒ¼ãƒ‰ã‚’ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã§æä¾›ã—ã¦ãã ã•ã„:
- src/components/wallet/WalletButton.tsx
- src/components/wallet/ConnectedWalletPanel.tsx
- src/providers/SuiProvider.tsx
```

---

## ğŸ› ï¸ ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè£…ã‚¬ã‚¤ãƒ‰

### ã‚¹ãƒ†ãƒƒãƒ— 1: ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# å¿…é ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
npm install @mysten/dapp-kit@^0.19.7 \
            @mysten/sui@^1.43.2 \
            @tanstack/react-query@^5.83.0

# Next.js + React (æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—)
npm install next@^15.3.2 react@^19.0.0 react-dom@^19.0.0

# Tailwind CSS (æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—)
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

### ã‚¹ãƒ†ãƒƒãƒ— 2: Tailwind CSSè¨­å®š

**tailwind.config.js**
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      fontFamily: {
        pixel: ['"Pixelify Sans"', 'monospace'],
      },
    },
  },
  plugins: [],
}
```

**src/app/globals.css**
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fontsã‹ã‚‰ãƒ”ã‚¯ã‚»ãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ */
@import url('https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;500;600;700&display=swap');

:root {
  --background: #e0f7ff;
  --foreground: #333;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: 'Pixelify Sans', monospace;
}

/* @mysten/dapp-kit ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ */
@import '@mysten/dapp-kit/dist/index.css';
```

### ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š

**src/providers/SuiProvider.tsx**
```typescript
"use client";

import { SuiClientProvider, WalletProvider } from "@mysten/dapp-kit";
import { getFullnodeUrl } from "@mysten/sui/client";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ReactNode } from "react";

// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
const networks = {
  devnet: { url: getFullnodeUrl("devnet") },
  testnet: { url: getFullnodeUrl("testnet") },
  mainnet: { url: getFullnodeUrl("mainnet") },
};

// React Query ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
      retry: 3, // æœ€å¤§3å›ãƒªãƒˆãƒ©ã‚¤
      refetchOnWindowFocus: false,
    },
  },
});

interface SuiProviderProps {
  children: ReactNode;
}

export function SuiProvider({ children }: SuiProviderProps) {
  return (
    <QueryClientProvider client={queryClient}>
      <SuiClientProvider networks={networks} defaultNetwork="mainnet">
        <WalletProvider
          autoConnect
          // SlushWalletçµ±åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
          preferredWallets={[
            "Slush Wallet",
            "Sui Wallet",
            "Suiet Wallet",
          ]}
        >
          {children}
        </WalletProvider>
      </SuiClientProvider>
    </QueryClientProvider>
  );
}
```

**app/layout.tsx ã¸ã®çµ±åˆ**
```typescript
import { SuiProvider } from "@/providers/SuiProvider";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja">
      <body>
        <SuiProvider>
          {children}
        </SuiProvider>
      </body>
    </html>
  );
}
```

### ã‚¹ãƒ†ãƒƒãƒ— 4: ConnectedWalletPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**src/components/wallet/ConnectedWalletPanel.tsx**
```typescript
"use client";

import { useCurrentAccount, useAccounts, useSwitchAccount, useDisconnectWallet } from "@mysten/dapp-kit";
import { Copy, ExternalLink, Check } from "lucide-react";
import { useState } from "react";

interface ConnectedWalletPanelProps {
  onClose: () => void;
}

export function ConnectedWalletPanel({ onClose }: ConnectedWalletPanelProps) {
  const currentAccount = useCurrentAccount();
  const allAccounts = useAccounts();
  const { mutate: switchAccount } = useSwitchAccount();
  const { mutate: disconnect } = useDisconnectWallet();
  const [copied, setCopied] = useState(false);

  if (!currentAccount) return null;

  // ã‚¢ãƒ‰ãƒ¬ã‚¹çŸ­ç¸®é–¢æ•°
  const formatAddress = (address: string) => {
    return `${address.slice(0, 6)}...${address.slice(-4)}`;
  };

  // ã‚³ãƒ”ãƒ¼å‡¦ç†
  const handleCopy = async () => {
    await navigator.clipboard.writeText(currentAccount.address);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  // ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§é–‹ã
  const handleExplorer = () => {
    window.open(
      `https://suiscan.xyz/mainnet/account/${currentAccount.address}`,
      "_blank"
    );
  };

  // åˆ‡æ–­å‡¦ç†
  const handleDisconnect = () => {
    disconnect();
    onClose();
  };

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆ
  const handleSwitchAccount = (address: string) => {
    const account = allAccounts.find((acc) => acc.address === address);
    if (account) {
      switchAccount({ account });
    }
  };

  const hasMultipleAccounts = allAccounts.length > 1;

  return (
    <div
      className="fixed left-1/2 top-20 -translate-x-1/2
        sm:absolute sm:left-auto sm:translate-x-0 sm:right-0 sm:top-full sm:mt-2
        w-80 bg-white rounded-lg shadow-xl border-2 border-gray-200
        font-pixel z-50"
      role="dialog"
      aria-label="æ¥ç¶šæ¸ˆã¿ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæƒ…å ±"
    >
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="px-4 py-3 border-b border-gray-200">
        <p className="text-sm text-gray-600 font-semibold">Connected</p>
      </div>

      {/* ç¾åœ¨ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ */}
      <div className="px-4 py-3 border-b border-gray-200">
        <div className="flex items-center justify-between">
          <span className="text-base font-mono font-semibold">
            {formatAddress(currentAccount.address)}
          </span>
          <div className="flex gap-2">
            {/* ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ */}
            <button
              onClick={handleCopy}
              className={`p-2 rounded hover:bg-gray-100 transition-colors
                ${copied ? "text-green-500" : "text-gray-600"}`}
              aria-label="ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ã‚³ãƒ”ãƒ¼"
            >
              {copied ? <Check size={16} /> : <Copy size={16} />}
            </button>
            {/* ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒœã‚¿ãƒ³ */}
            <button
              onClick={handleExplorer}
              className="p-2 rounded hover:bg-gray-100 text-gray-600 transition-colors"
              aria-label="ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§è¡¨ç¤º"
            >
              <ExternalLink size={16} />
            </button>
          </div>
        </div>
      </div>

      {/* DISCONNECT ãƒœã‚¿ãƒ³ */}
      <div className="px-4 py-3 border-b border-gray-200">
        <button
          onClick={handleDisconnect}
          className="w-full py-2 px-4 bg-blue-500 hover:bg-blue-600
            text-white font-bold rounded transition-colors
            hover:scale-105 active:scale-95 duration-200"
        >
          DISCONNECT
        </button>
      </div>

      {/* è¤‡æ•°ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
      {hasMultipleAccounts && (
        <div className="px-4 py-3">
          <p className="text-sm text-gray-600 font-semibold mb-2">Wallets</p>
          <div className="space-y-1">
            {allAccounts.map((account) => {
              const isActive = account.address === currentAccount.address;
              return (
                <button
                  key={account.address}
                  onClick={() => handleSwitchAccount(account.address)}
                  className={`w-full px-3 py-2 rounded text-left font-mono text-sm
                    transition-colors flex items-center gap-2
                    ${
                      isActive
                        ? "bg-blue-500 text-white"
                        : "bg-gray-50 hover:bg-gray-100 text-gray-700"
                    }`}
                >
                  <span className="flex-shrink-0">
                    {isActive ? "â—" : "â—‹"}
                  </span>
                  <span className="truncate">
                    {formatAddress(account.address)}
                  </span>
                </button>
              );
            })}
          </div>
        </div>
      )}
    </div>
  );
}
```

### ã‚¹ãƒ†ãƒƒãƒ— 5: WalletButton ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**src/components/wallet/WalletButton.tsx**
```typescript
"use client";

import { ConnectButton, useCurrentAccount } from "@mysten/dapp-kit";
import { useState, useEffect, useRef } from "react";
import { ConnectedWalletPanel } from "./ConnectedWalletPanel";
import { ChevronDown } from "lucide-react";

interface WalletButtonProps {
  size?: "small" | "medium" | "large";
}

export function WalletButton({ size = "medium" }: WalletButtonProps) {
  const currentAccount = useCurrentAccount();
  const [showPanel, setShowPanel] = useState(false);
  const panelRef = useRef<HTMLDivElement>(null);
  const buttonRef = useRef<HTMLDivElement>(null);

  // ã‚¢ãƒ‰ãƒ¬ã‚¹çŸ­ç¸®
  const formatAddress = (address: string) => {
    return `${address.slice(0, 6)}...${address.slice(-4)}`;
  };

  // å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        panelRef.current &&
        buttonRef.current &&
        !panelRef.current.contains(event.target as Node) &&
        !buttonRef.current.contains(event.target as Node)
      ) {
        setShowPanel(false);
      }
    };

    if (showPanel) {
      document.addEventListener("mousedown", handleClickOutside);
      return () => document.removeEventListener("mousedown", handleClickOutside);
    }
  }, [showPanel]);

  // Escapeã‚­ãƒ¼ã§ãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹
  useEffect(() => {
    const handleEscape = (event: KeyboardEvent) => {
      if (event.key === "Escape") {
        setShowPanel(false);
      }
    };

    if (showPanel) {
      document.addEventListener("keydown", handleEscape);
      return () => document.removeEventListener("keydown", handleEscape);
    }
  }, [showPanel]);

  // ã‚µã‚¤ã‚ºã‚¯ãƒ©ã‚¹
  const sizeClasses = {
    small: "text-sm px-3 py-1.5",
    medium: "text-base px-4 py-2",
    large: "text-lg px-6 py-3",
  };

  // æœªæ¥ç¶šæ™‚
  if (!currentAccount) {
    return (
      <ConnectButton
        connectText="Connect Wallet"
        className="font-pixel"
      />
    );
  }

  // æ¥ç¶šæ¸ˆã¿æ™‚
  return (
    <div className="relative" ref={buttonRef}>
      <button
        onClick={() => setShowPanel(!showPanel)}
        className={`${sizeClasses[size]} bg-blue-500 hover:bg-blue-600
          text-white font-bold rounded-lg flex items-center gap-2
          transition-all duration-200 hover:scale-105 active:scale-95
          shadow-md hover:shadow-lg font-pixel border-2 border-blue-700`}
        aria-expanded={showPanel}
        aria-label="ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæƒ…å ±ã‚’è¡¨ç¤º"
      >
        <span className="font-mono">
          {formatAddress(currentAccount.address)}
        </span>
        <ChevronDown
          size={16}
          className={`transition-transform duration-200
            ${showPanel ? "rotate-180" : ""}`}
        />
      </button>

      {showPanel && (
        <div ref={panelRef}>
          <ConnectedWalletPanel onClose={() => setShowPanel(false)} />
        </div>
      )}
    </div>
  );
}
```

### ã‚¹ãƒ†ãƒƒãƒ— 6: ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `lucide-react` ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

```bash
npm install lucide-react
```

ã¾ãŸã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªSVGã‚¢ã‚¤ã‚³ãƒ³ã«ç½®ãæ›ãˆã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 7: ä½¿ç”¨æ–¹æ³•

**ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨**
```typescript
import { WalletButton } from "@/components/wallet/WalletButton";

export function Header() {
  return (
    <header className="flex items-center justify-between p-4">
      <h1>My Sui dApp</h1>
      <WalletButton size="small" />
    </header>
  );
}
```

---

## ğŸ¨ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¬ã‚¤ãƒ‰

### 1. ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã®å¤‰æ›´

```typescript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          DEFAULT: '#3b82f6', // blue-500
          hover: '#2563eb',   // blue-600
          border: '#1d4ed8',  // blue-700
        },
      },
    },
  },
}
```

### 2. ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼URLã®å¤‰æ›´

```typescript
// ç•°ãªã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚„ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
const handleExplorer = () => {
  const network = "testnet"; // ã¾ãŸã¯ "devnet"
  window.open(
    `https://suiscan.xyz/${network}/account/${currentAccount.address}`,
    "_blank"
  );
};
```

### 3. ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆç”»åƒãƒœã‚¿ãƒ³ã®è¿½åŠ 

æœªæ¥ç¶šæ™‚ã«ã‚«ã‚¹ã‚¿ãƒ ç”»åƒã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š

```typescript
if (!currentAccount) {
  return (
    <button
      onClick={() => {/* ConnectModalã‚’é–‹ãå‡¦ç† */}}
      className="hover:scale-105 active:scale-95 transition-transform"
      style={{ imageRendering: "pixelated" }}
    >
      <img
        src="/button/connectwallet.png"
        alt="Connect Wallet"
        className="h-10 w-auto"
        style={{ imageRendering: "pixelated" }}
      />
    </button>
  );
}
```

### 4. è¤‡æ•°ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¯¾å¿œ

```typescript
// SuiProvider.tsx
export function SuiProvider({ children, defaultNetwork = "mainnet" }: Props) {
  return (
    <SuiClientProvider networks={networks} defaultNetwork={defaultNetwork}>
      {/* ... */}
    </SuiClientProvider>
  );
}
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ 1: "Module not found: @mysten/dapp-kit"

**è§£æ±ºç­–**:
```bash
npm install @mysten/dapp-kit@^0.19.7 --save
rm -rf node_modules package-lock.json
npm install
```

### å•é¡Œ 2: ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œãªã„

**è§£æ±ºç­–**:
1. `globals.css` ã« `@import '@mysten/dapp-kit/dist/index.css';` ãŒã‚ã‚‹ã‹ç¢ºèª
2. Tailwind CSS ã® `content` é…åˆ—ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‘ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### å•é¡Œ 3: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆãŒè‡ªå‹•æ¥ç¶šã•ã‚Œãªã„

**è§£æ±ºç­–**:
`WalletProvider` ã« `autoConnect` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ï¼š
```typescript
<WalletProvider autoConnect>
```

### å•é¡Œ 4: TypeScriptå‹ã‚¨ãƒ©ãƒ¼

**è§£æ±ºç­–**:
```bash
npm install --save-dev @types/react @types/node
```

---

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [@mysten/dapp-kit å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://sdk.mystenlabs.com/dapp-kit)
- [Sui TypeScript SDK](https://sdk.mystenlabs.com/typescript)
- [Tailwind CSS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tailwindcss.com/docs)
- [React Query ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tanstack.com/query/latest)

---

## ğŸ”— ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè£…å‚ç…§

### ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«

- **WalletButton**: `src/components/wallet/WalletButton.tsx`
- **ConnectedWalletPanel**: `src/components/wallet/ConnectedWalletPanel.tsx`
- **SuiProvider**: `src/providers/SuiProvider.tsx`
- **Headerçµ±åˆ**: `src/components/layout/Header.tsx`

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³

```json
{
  "@mysten/dapp-kit": "^0.19.7",
  "@mysten/sui": "^1.43.2",
  "@tanstack/react-query": "^5.83.0",
  "next": "15.3.2",
  "react": "^19.0.0"
}
```

---

**ä½œæˆæ—¥**: 2025å¹´11æœˆ
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Inuverse
**ãƒ™ãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: @mysten/dapp-kit v0.19.7
